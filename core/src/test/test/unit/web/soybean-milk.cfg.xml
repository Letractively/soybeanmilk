<?xml version="1.0" encoding="UTF-8"?>
<soybean-milk>
	
	<resolvers>
		<resolver id="testResolver" class="test.unit.web.TestDispatchServlet$TestResolver" />
	</resolvers>
	
	<executables>
		
		<action name="/user/view/{request.userId}">
			<invoke>
				result=testResolver.view(request.userId);
			</invoke>
			
			<target url="/jsp/user/{request.userId}/view.jsp" />
		</action>
		
		<action name="/user/edit/{request.userId}">
			<invoke>
				result=testResolver.edit(request.userId);
			</invoke>
			
			<target url="/user/view/{request.userId}" type="redirect" />
		</action>
		
		<action name="/user/edit.do">
			<invoke>
				result=testResolver.edit(param.userId);
			</invoke>
			
			<target url="/user/view/{param.userId}" type="redirect" />
		</action>
		
		<action name="/product/{request.userId}/edit/{request.id}">
			<invoke>
				result=testResolver.edit(request.userId, request.id);
			</invoke>
			
			<target url="/jsp/product/{request.userId}/{request.id}/edit.jsp" />
		</action>
		
		<action name="/product/edit.do">
			<invoke>
				result=testResolver.edit(param.userId, param.id);
			</invoke>
			
			<target url="/jsp/product/{param.userId}/{param.id}/edit.jsp" />
		</action>
		
	</executables>
	
</soybean-milk>