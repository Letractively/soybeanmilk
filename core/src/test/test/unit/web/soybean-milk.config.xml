<?xml version="1.0" encoding="UTF-8"?>
<soybean-milk>
	
	<resolvers>
		<resolver id="testResolver" class="test.unit.web.TestDispatchServlet$TestResolver" />
	</resolvers>
	
	<executables>
		
		<action name="/user/view/{userId}">
			<invoke>
				result=testResolver.view(path.userId);
			</invoke>
			
			<target url="/jsp/user/{path.userId}/view.jsp" />
		</action>
		
		<action name="/user/edit/{userId}">
			<invoke>
				result=testResolver.edit(path.userId);
			</invoke>
			
			<target url="/user/view/{path.userId}" type="redirect" />
		</action>
		
		<action name="/user/edit.do">
			<invoke>
				result=testResolver.edit(param.userId);
			</invoke>
			
			<target url="/user/view/{param.userId}" type="redirect" />
		</action>
		
		<action name="/product/{userId}/edit/{id}">
			<invoke>
				result=testResolver.edit(path.userId, path.id);
			</invoke>
			
			<target url="/jsp/product/{path.userId}/{path.id}/edit.jsp" />
		</action>
		
		<action name="/product/edit.do">
			<invoke>
				result=testResolver.edit(param.userId, param.id);
			</invoke>
			
			<target url="/jsp/product/{param.userId}/{param.id}/edit.jsp" />
		</action>
		
	</executables>
	
</soybean-milk>