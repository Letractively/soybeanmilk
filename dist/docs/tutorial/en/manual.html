<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Manual - soybeanMilk</title>
<link href="../resources/style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div class="pageHeader">
	<span class="mainTitle">SoybeanMilk</span>
</div>
<hr>
<div class="pageBody">
	<div class="bodyMenu">
		<ul class="menu">
			<li><a href="index.html">Home</a></li>
			<li><a href="quickStart.html">Quick start</a></li>
			<li class="current"><a href="manual.html">Manual</a></li>
			<li><a href="integration.html">Integration</a></li>
			<li><a href="faq.html">FAQ</a></li>
			<li><a href="../../api/index.html">API</a></li>
		</ul>
	</div>
	<div class="bodyContent">
		<div class="content">
			<p>
				This framework will be very easy understanding if you are familiar with Java Reflection.
				It just do four things:
				<br>
				<ul>
					<li>
						Construct argument values of the method you written, by getting them from <a href="../../api/org/soybeanMilk/core/ObjectSource.html" class="glossary">ObjectSource</a>.
					</li>
					<li>
						Invoke the method on the target object.
					</li>
					<li>
						Save the method result to <a href="../../api/org/soybeanMilk/core/ObjectSource.html" class="glossary">ObjectSource</a>.
					</li>
					<li>
						Process the URL dispatching.
					</li>
				</ul>
			</p>
			<p>
				<a href="../../api/org/soybeanMilk/core/ObjectSource.html" class="glossary">ObjectSource</a> is the core interface of this framework, for getting and saving objects.
				The most work you are doing is to tell this framework how to get object from <span class="glossary">ObjectSource</span>, and save object into <span class="glossary">ObjectSource</span>. 
			</p>
			<p>
				<a href="../../api/org/soybeanMilk/core/Executable.html" class="glossary">Executable</a> is another core interface.
				It can be executed only with an <span class="glossary">ObjectSource</span>.There is two implementation of this interface, one is
				<a href="../../api/org/soybeanMilk/core/exe/Invoke.html" class="glossary">Invoke</a>, and another is <a href="../../api/org/soybeanMilk/core/exe/Action.html" class="glossary">Action</a>.
				They both are advanced encapsulation of Java <span class="glossary">Method</span> object, an <span class="glossary">Action</span> can have one or more <span class="glossary">Invoke</span>s,
				and an <span class="glossary">Invoke</span> are conresponding to a <span class="glossary">Method</span>.
			</p>
			<p>
				<a href="javascript:void(0);" class="glossary">Resolver</a> is an important concept, it is the target of <span class="glossary">Invoke</span>'s method.
				But there is no interface defined for it, because it is writing by you. You may call it "Business object".
			</p>
			<p>
				<a href="../../api/org/soybeanMilk/core/bean/Converter.html" class="glossary">Converter</a> help <span class="glossary">ObjectSource</span> convert the object it stored to the <span class="glossary">Invoke</span>'s method argument type.
				
			</p>
			<p>
				The detail structure of <span class="mainTitle">SoybeanMilk</span> configuration file is listing bellow:
				<ul>
					<li>
						<a href="javascript:void(0);">&lt;soybean-milk&gt;</a>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						Root element
						<ul>
							<li>
								<a href="#tag_global-config"><span class="tag">&lt;global-config&gt;</span></a>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								Global configuration block
								<ul>
									<li>
										<a href="#tag_generic-converter"><span class="tag">&lt;generic-converter&gt;</span></a>
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										Generic Converter
										<ul>
											<li>
												<a href="#tag_converter"><span class="tag">&lt;converter&gt;</span></a>
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												&nbsp;&nbsp;
												 Support Converter
											</li>
										</ul>
									</li>
									<li>
										<a href="#tag_interceptor"><span class="tag">&lt;interceptor&gt;</span></a>
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										 Interceptor
									</li>
								</ul>
							</li>
							<li>
								<a href="#tag_includes"><span class="tag">&lt;includes&gt;</span></a>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								&nbsp;&nbsp;&nbsp;&nbsp;
								 Included modules
								<ul>
									<li>
										<a href="#tag_file"><span class="tag">&lt;file&gt;</span></a>
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;&nbsp;&nbsp;
										 Module file
									</li>
								</ul>
							</li>
							<li>
								<a href="#tag_resolvers"><span class="tag">&lt;resolvers&gt;</span></a>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								&nbsp;&nbsp;&nbsp;
								 Resolver configuration block
								<ul>
									<li>
										<a href="#tag_resolver"><span class="tag">&lt;resolver&gt;</span></a>
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										 Resolver
									</li>
								</ul>
							</li>
							<li>
								<a href="#tag_executables"><span class="tag">&lt;executables&gt;</span></a>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								&nbsp;
								 Executable configuration block
								<ul>
									<li>
										<a href="#tag_invoke"><span class="tag">&lt;invoke&gt;</span></a>
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;
										 Global Invoke
										<ul>
											<li>
												<a href="#tag_arg"><span class="tag">&lt;arg&gt;</span></a>
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												Arguments configuration
											</li>
										</ul>
									</li>
									<li>
										<a href="#tag_action"><span class="tag">&lt;action&gt;</span></a>
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;
										 Global Action
										<ul>
											<li>
												<a href="#tag_invoke"><span class="tag">&lt;invoke&gt;</span></a>
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												 Local Invoke
												<ul>
													<li>
														<a href="#tag_arg"><span class="tag">&lt;arg&gt;</span></a>
														&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
														&nbsp;&nbsp;&nbsp;
														Arguments configuration
													</li>
												</ul>
											</li>
											<li>
												<a href="#tag_ref"><span class="tag">&lt;ref&gt;</span></a>
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												 Reference to global Executable
											</li>
											<li>
												<a href="#tag_target"><span class="tag">&lt;target&gt;</span></a>
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
												 Target
											</li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_global-config"></a>
				<span class="tag bold">&lt;global-config&gt;</span> (Optional) <br/>
			</p>
			<p>
				Global configuration block. It is just defined as a parent tag with no attribute. 
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_generic-converter"></a>
				<span class="tag bold">&lt;generic-converter&gt;</span> (Optional) <br/>
			</p>
			<p>
				Generic Converter configuration. Type conversion is a nest function of this framework,
				it works when you want to get an object which has different type with the object stored in <span class="glossary">ObjectSource</span>
				(See <a href="../../api/org/soybeanMilk/core/bean/GenericConverter.html" class="glossary">GenericConverter</a> interface).
			</p>
			<p>
				Especially in web environment, the request values are all Strings, but the argument of <span class="glossary">Invoke</span> method may be any type.
			</p>
			<p>
				It contains the following attributes:
				<ul>
					<li>
						<span class="tagAttr">class</span> (Optional) <br />
						Customized generic converter class with which you can completely replace the nest generic converter.
						This customized generic converter must be an implementaion of <a href="../../api/org/soybeanMilk/core/bean/GenericConverter.html" class="glossary">GenericConverter</a> interface.<br />
						The nest generic converter <a href="../../api/org/soybeanMilk/web/bean/WebGenericConverter.html" class="glossary">WebGenericConverter</a> will be used if you didn't set this attribute.
					</li>
				</ul>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_converter"></a>
				<span class="tag bold">&lt;converter&gt;</span> (Optional) <br/>
			</p>
			<p>
				Support converter. You can add new support converters or replace old converters to enhance the generic converter.<br />
				The nest generic converter implementation <a href="../../api/org/soybeanMilk/web/bean/WebGenericConverter.html" class="glossary">WebGenericConverter</a>
				has add most common support converter
				(see <a href="../../api/org/soybeanMilk/core/bean/DefaultGenericConverter.html" class="glossary">DefaultGenericConverter</a> class),
				and it also can convert "<span class="var">java.util.Map</span>" to JavaBean object.
			</p>
			<p>
				It contains the following attributes:
				<ul>
					<li>
						<span class="tagAttr">src</span> (<span class="required">Required</span>) <br />
						The source type it can convert from.
					</li>
					<li>
						<span class="tagAttr">dest</span> (<span class="required">Required</span>) <br />
						The destination type it can convert to.
					</li>
					<li>
						<span class="tagAttr">class</span> (<span class="required">Required</span>) <br />
						The class of this converter.
					</li>
				</ul>
			</p>
			<p>
				The following is a customized converter for converting Date, the nest will be replaced: 
<pre class="code-xml">
&lt;generic-converter&gt;
	&lt;converter src="java.lang.String" dest="java.util.Date" class="your.converter.DateConverter" /&gt;
&lt;/generic-converter&gt;
</pre>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_interceptor"></a>
				<span class="tag bold">&lt;interceptor&gt;</span> (Optional) <br/>
			</p>
			<p>
				Interceptor configuration.
				You can add "before", "after", "exception" interceptor for <a href="../../api/org/soybeanMilk/core/Executor.html">Executor</a> using this configuration.
			</p>
			<p>
				It contains the following attributes:
				<ul>
					<li>
						<span class="tagAttr">before</span> (Optional) <br />
						Set the "before" interceptor's global <span class="glossary">Executable</span> name.
						<span class="glossary">Executor</span> will execute it first.
					</li>
					<li>
						<span class="tagAttr">after</span> (Optional) <br />
						Set the "after" interceptor's global <span class="glossary">Executable</span> name.
						<span class="glossary">Executor</span> will execute it after correctly executing the current <span class="glossary">Executable</span>.
					</li>
					<li>
						<span class="tagAttr">exception</span> (Optional) <br />
						Set the "exception" interceptor's global <span class="glossary">Executable</span> name.
						<span class="glossary">Executor</span> will execute it if exception thrown when executing the current <span class="glossary">Executable</span>.
					</li>
					<li>
						<span class="tagAttr">execution-key</span> (Optional) <br />
						Saving keyword of the execution context object <a href="../../api/org/soybeanMilk/core/Execution.html">Execution</a>.
						With this object, you can get the execution context information in your interceptor.
					</li>
				</ul>
			</p>
			<p>
				The following is an "exception" interceptor example, the framework will execute <span class="glossary">Action</span> "<span class="var">/handleException.do</span>"
				when exception occuring:
<pre class="code-xml">
&lt;global-config&gt;		
		&lt;interceptor exception="/handleException.do"
			execution-key="session.execution" /&gt;
&lt;/global-config&gt;

&lt;executables&gt;
		&lt;action name="/handleException.do"&gt;
			&lt;invoke method="handleException" resolver="exceptionResolver"&gt;
				&lt;arg&gt;session.execution&lt;/arg&gt;
			&lt;/invoke&gt;
			
			&lt;target url="/error.jsp" /&gt;
		&lt;/action&gt;
		...
		...
&lt;/executables&gt;
</pre>
			</p>
			<p>
				It's corresponding Java method must be:
			</p>
			<p>
<pre class="code-java">
public void handleException(Execution execution)
{
	...
}
</pre>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_includes"></a>
				<span class="tag bold">&lt;includes&gt;</span> (Optional) <br/>
			</p>
			<p>
				Included modules configuration. It is just defined as a parent tag with no attribute.
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_file"></a>
				<span class="tag bold">&lt;file&gt;</span> (Optional) <br/>
			</p>
			<p>
				The file of module configuration. It can be a resource file in classpath, or file in "<span class="var">/WEB-INF</span>" folder of your application.
			</p>
			<p>
				Note that only <span class="tag">&lt;resolvers&gt;</span> and <span class="tag">&lt;executables&gt;</span> tags are valid in module configuration files.
			</p>
			<p>
				It's an example below:
<pre class="code-xml">
&lt;includes&gt;
	&lt;file&gt;your/config/module.1.xml&lt;/file&gt;
	&lt;file&gt;your/config/module.2.xml&lt;/file&gt;
	&lt;file&gt;/WEB-INF/config/module.3.xml&lt;/file&gt;
	&lt;file&gt;/WEB-INF/config/module.4.xml&lt;/file&gt;
	&lt;file&gt;/home/yourapp/config/module.5.xml&lt;/file&gt;
&lt;/includes&gt;
</pre>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_resolvers"></a>
				<span class="tag bold">&lt;resolvers&gt;</span> (Optional) <br/>
			</p>
			<p>
				<span class="glossary">Resolver</span> configuration block. It is just defined as a parent tag with no attribute.
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_resolver"></a>
				<span class="tag bold">&lt;resolver&gt;</span> (Optional) <br/>
			</p>
			<p>
				<span class="glossary">Resolver</span> configuration. You may add many <span class="tag">&lt;resolver&gt;</span> tags here using later.
			</p>
			<p>
				It contains the following attributes:
				<ul>
					<li>
						<span class="tagAttr">id</span> (<span class="required">Required</span>)<br />
						The id of <span class="glossary">Resolver</span>, and will be used when you defining <span class="glossary">Executable</span>s.
					</li>
					<li>
						<span class="tagAttr">class</span> (<span class="required">Required</span>) <br />
						The class of <span class="glossary">Resolver</span>.
						It single instance will be created by the parser of this framework, and using by all referenced <span class="glossary">Executable</span>s.
					</li>
				</ul>
			</p>
			<p>
				This is an example below:
<pre class="code-xml">
&lt;resolvers&gt;
	&lt;resolver id="yourResolver0" class="your.resolver.MyResolver0" /&gt;
	&lt;resolver id="yourResolver1" class="your.resolver.MyResolver0" /&gt;
	&lt;resolver id="yourResolver2" class="your.resolver.MyResolver1" /&gt;
&lt;/resolvers&gt;
</pre>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_executables"></a>
				<span class="tag bold">&lt;executables&gt;</span> (Optional) <br/>
			</p>
			<p>
				<span class="glossary">Executable</span> configuration block. It is just defined as a parent tag with no attribute.
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_invoke"></a>
				<span class="tag bold">&lt;invoke&gt;</span> (Optional) <br/>
			</p>
			<p>
				<span class="glossary">Invoke</span> configuration. It can be directly added under the <span class="tag">&lt;executables&gt;</span> tag (as global),
				or added under the <span class="tag">&lt;action&gt;</span> tag (as local).
			</p>
			<p>
				It has tow configuration mode:
				<ul>
					<li><a href="#invoke_xml_spec">XML mode</a></li>
					<li><a href="#invoke_java_spec">Java mode</a></li>
				</ul>
			</p>
			<p>
				<a name="invoke_xml_spec"></a>
				<a href="javascript:void(0);">XML mode</a>
			</p>
			<p>
				It contains the following attributes:
				<ul>
					<li>
						<span class="tagAttr">name</span> (Optional)  <br />
						Your must set this attribute if this <span class="glossary">Invoke</span> is global,
						and it must be unique together with <span class="glossary">Action</span>'s name attribute.
						It is optional if this <span class="glossary">Invoke</span> is local.
					</li>
					<li>
						<span class="tagAttr">method</span> (<span class="required">Required</span>) <br />
						Set the method name of this <span class="glossary">Invoke</span>,
						it must be defined in <span class="tagAttr">resolver-class</span> or <span class="tagAttr">resolver</span> class.
						The configuration parser will use this attribute to find the <span class="glossary">Method</span> object.
						If you set the <span class="tagAttr">resolver-class</span> attribute, it's class will be first used for finding,
						or the <span class="tagAttr">resolver</span> attribute's class will be used.
					</li>
					<li>
						<span class="tagAttr">resolver-class</span> (<span class="required">Alternatively</span>) <br />
						Set the <span class="glossary">Resolver</span> class name of this <span class="glossary">Invoke</span>.
						If the <span class="glossary">Invoke</span> method is static,
						you can only set this attribute, because static method can be exeucted without instance.
					</li>
					<li>
						<span class="tagAttr">resolver</span> (<span class="required">Alternatively</span>) <br />
						Set  the <span class="glossary">Resolver</span> id of this <span class="glossary">Invoke</span> defined in <span class="tag">&lt;resolvers&gt;</span> tag.
						All the ID defined in module files can be used here.
						If the <span class="glossary">Invoke</span> method is not static, this attribute is required.
					</li>
					<li>
						<span class="tagAttr">result-key</span> (Optional) <br />
						The saving keyword of this <span class="glossary">Invoke</span> method result.
						The result will always be saved if you set this attribute, and "<span class="var">null</span>" is saved if the method has no return value.
						Contrarily, nothing will be saved.
						If this attribute contains accessor symbol '.', it must be start with scopes defined in this framework (See <a href="../../api/org/soybeanMilk/web/WebConstants.Scope.html">WebConstants.Scope</a>).<br />
						Iegal result keywords are listing below:
						<ul>
							<li>
								<span class="tagValue">yourResultKey</span> <br/>
								The result will be saved in "<span class="var">request</span>" scope with keyword "<span class="var">yourResultKey</span>".
							</li>
							<li>
								<span class="tagValue">request.yourResultKey</span> <br/>
								The same as above.
							</li>
							<li>
								<span class="tagValue">session.yourResultKey</span> <br/>
								The result will be saved in "<span class="var">session</span>" scope with keyword "<span class="var">yourResultKey</span>".
							</li>
							<li>
								<span class="tagValue">application.yourResultKey</span> <br/>
								The result will be saved in "<span class="var">application</span>" scope with keyword "<span class="var">yourResultKey</span>".
							</li>
						</ul>
					</li>
				</ul>
			</p>
			<p>
			<a name="invoke_java_spec"></a>
				<a href="javascript:void(0);">Java mode</a><br>
			</p>
			<p>
				It makes your configuration for <span class="glossary">Invoke</span> just like writing Java codes.
				The syntax is listed below:
<pre class="code-xml">
<span class="tag">&lt;invoke name="yourInvokeName"&gt;</span>
	<span class="tagAttr">resultKey</span> = <span class="tagAttr">resolver</span>.<span class="tagAttr">method</span>(<span class="tagAttr">arg</span>, <span class="tagAttr">arg</span>, ...)
<span class="tag">&lt;/invoke&gt;</span>
</pre>
				<ul>
					<li>
						<span class="tagAttr">resultKey</span> <br>
						The same meaning to the above attribute <span class="tagAttr">result-key</span> of <span class="tag">&lt;invoke&gt;</span>.
					</li>
					<li>
						<span class="tagAttr">resolver</span> <br>
						The same meaning to the above attribute <span class="tagAttr">resolver</span> or <span class="tagAttr">resolver-class</span> of <span class="tag">&lt;invoke&gt;</span>.
						The framework can recognise which attribute it is.
					</li>
					<li>
						<span class="tagAttr">method</span> <br>
						The same meaning to the above attribute <span class="tagAttr">method</span> of <span class="tag">&lt;invoke&gt;</span>.
					</li>
					<li>
						<span class="tagAttr">arg</span> <br>
						The same meaning to the below tag <span class="tag">&lt;arg&gt;</span>.
					</li>
				</ul>
			</p>
			<p>
				These are some configuration example using Java mode:
			</p>
			<p>
<pre class="code-xml">
&lt;action name="/multiply.do"&gt;
	&lt;invoke&gt;
		request.multiplyResult = calculator.multiply( param.a, 100)
	&lt;/invoke&gt;
	&lt;invoke&gt;
		your.util.Utils.printToConsole(request.multiplyResult);
	&lt;/invoke&gt;
&lt;/action&gt;
</pre>
			</p>
			<p>
<pre class="code-xml">
&lt;invoke name="yourGlobalInvokeName"&gt;
	request.yourResultKey = yourResolver.yourMethod(
		param.arg1, true, 'a', '\u00EF', "hello\t hello", 100 )
&lt;/invoke&gt;
</pre>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_arg"></a>
				<span class="tag bold">&lt;arg&gt;</span> (<span class="required">Unsure</span>) <br/>
			</p>
			<p>
				<span class="glossary">调用</span>方法的参数配置。只有在你是以XML方式配置<span class="tag">&lt;invoke&gt;</span>时，才需要定义此标签。<span class="tag">&lt;arg&gt;</span>的个数是由<span class="glossary">调用</span>方法决定的，
				方法有几个参数，你就需要配置几个<span class="tag">&lt;arg&gt;</span>，
				如果方法没有参数，你就不必要配置它。
				
				The argument configuration of an <span class="glossary">Invoke</span> method.
				It may be need only if you are using XML mode to configure your <span class="tag">&lt;invoke&gt;</span>
			</p>
			<p>
				它没有属性，只有标签内容。标签内容可以分为两大类，一是参数关键字、一是参数值，框架会自动识别它们。
			</p>
			<p>
				下面是合法的标签内容：
			</p>
				<ul>
					<li>参数关键字
						<ul>
							<li>
								<span class="tagValue">param</span> <br/>
								整个请求参数映射表。如果<span class="glossary">调用</span>方法参数是<span class="var">java.util.Map</span>类型，
								那么这个请求参数映射表会原封不动地传递给方法；如果是其他类型，框架会首先将此映射表转换为这个类型的对象，然后传递给方法。
							</li>
							<li>
								<span class="tagValue">yourArgKey</span> <br/>
								请求参数映射表中以“<span class="var">yourArgKey</span>”开头的请求参数。
								如果这个参数有明确的值，框架会将这个值进行类型转换（需要的话）后传递给方法；否则，就根据“<span class="var">yourArgKey</span>”来对参数映射表进行过滤，
								产生一个新的映射表（它的关键字是原始关键字“<span class="var">yourArgKey.</span>”之后的部分，比如由“<span class="var">beanName.propertyName</span>”变为“<span class="var">propertyName</span>”），
								然后，与上面提到的一样，根据<span class="glossary">调用</span>方法参数的类型直接传递这个新映射表或者传递转换后的对象。
							</li>
							<li>
								<span class="tagValue">param.yourArgKey</span> <br/>
								同上。
							</li>
							<li>
								<span class="tagValue">request</span> <br/>
								请求HttpServletRequest对象。框架本身并没有提供它的转换器，如果<span class="glossary">调用</span>方法的参数类型不是“<span class="var">HttpServletRequest</span>”，
								那么你需要自定义“<span class="var">javax.servlet.http.HttpServletRequest</span>”到参数类型的<a href="#tag_converter">辅助转换器</a>。
							</li>
							<li>
								<span class="tagValue">request.yourArgKey</span> <br/>
								请求属性中的“<span class="var">yourArgKey</span>”关键字对应的对象。框架不会对此对象执行类型转换，<span class="glossary">调用</span>方法的参数类型应该与这个关键字对应的对象一致。
							</li>
							<li>
								<span class="tagValue">session</span> <br/>
								会话HttpSession对象。框架本身并没有提供它的转换器，如果<span class="glossary">调用</span>方法的参数类型不是“<span class="var">HttpSession</span>”，
								那么你需要自定义“<span class="var">javax.servlet.http.HttpSession</span>”到参数类型的<a href="#tag_converter">辅助转换器</a>。
							</li>
							<li>
								<span class="tagValue">session.yourArgKey</span> <br/>
								会话属性中的“<span class="var">yourArgKey</span>”关键字对应的对象。框架不会对此对象执行类型转换。
							</li>
							<li>
								<span class="tagValue">application</span> <br/>
								应用ServletContext对象。如果<span class="glossary">调用</span>方法的参数类型不是“<span class="var">ServletContext</span>”，
								那么你需要自定义“<span class="var">javax.servlet.ServletContext</span>”到参数类型的<a href="#tag_converter">辅助转换器</a>。
							</li>
							<li>
								<span class="tagValue">application.yourArgKey</span> <br/>
								应用属性中的“<span class="var">yourArgKey</span>”关键字对应的对象。框架不会对此对象执行类型转换。
							</li>
							<li>
								<span class="tagValue">response</span> <br/>
								回应HttpServletResponse对象。如果<span class="glossary">调用</span>方法的参数类型不是“<span class="var">HttpServletResponse</span>”，
								那么你需要自定义“<span class="var">javax.servlet.http.HttpServletResponse</span>”到参数类型的<a href="#tag_converter">辅助转换器</a>。
							</li>
						</ul>
					</li>
					<li>
						参数值 <br>
						参数值只支持基本类型和String类型，语法与对应的Java语法相同。下面是详细说明：
						<ul>
							<li>
								<span class="tagValue">boolean</span> <br>
								布尔值。对应的方法类型应该为“<span class="var">boolean</span>”或者“<span class="var">Boolean</span>”。
							</li>
							<li>
								<span class="tagValue">byte</span> <br>
								字节值。对应的方法类型应该为“<span class="var">byte</span>”或者“<span class="var">Byte</span>”。
							</li>
							<li>
								<span class="tagValue">char</span> <br>
								字符。可以是普通字符（'a'、'b'、'c'、'1'、'5'）、Java转义字符（'\n'、'\r'、'\t'、'\''、'\\'、'\"'），或者unicode字符（'\uxxxx'）。
								对应的方法类型应该为“<span class="var">char</span>”或者“<span class="var">Char</span>”。
							</li>
							<li>
								<span class="tagValue">double</span> <br>
								双精度小数。对应的方法类型应该为“<span class="var">double</span>”或者“<span class="var">Double</span>”。
							</li>
							<li>
								<span class="tagValue">float</span> <br>
								单精度小数。对应的方法类型应该为“<span class="var">float</span>”或者“<span class="var">Float</span>”。
							</li>
							<li>
								<span class="tagValue">int</span> <br>
								整型值。对应的方法类型应该为“<span class="var">int</span>”或者“<span class="var">Integer</span>”。
							</li>
							<li>
								<span class="tagValue">long</span> <br>
								长整型值。对应的方法类型应该为“<span class="var">long</span>”或者“<span class="var">Long</span>”。
							</li>
							<li>
								<span class="tagValue">short</span> <br>
								短整型值。对应的方法类型应该为“<span class="var">short</span>”或者“<span class="var">Short</span>”。
							</li>
							<li>
								<span class="tagValue">String</span> <br>
								字符串。它可以包含<span class="tagValue">char</span>中定义的字符。对应的方法类型应该为“<span class="var">String</span>”。
							</li>
							<li>
								<span class="tagValue">null</span> <br>
								空。对应的方法类型可以是除基本类型外的任何类型。
							</li>
						</ul>
					</li>
				</ul>
			</p>
			<p>
				注意：如果标签内容是关键字，并且里面包含访问符'.'，那么它必须以框架支持的作用域开头（参考<a href="../../api/org/soybeanMilk/web/WebConstants.Scope.html">WebConstants.Scope</a>类说明）。
			</p>
			<p>
				下面是一些配置示例：
			</p>
			<p>
<pre class="code-xml">
&lt;invoke name="yourGlobalInvoke" method="yourMethod" resolver="yourResolver" result-key="yourResultKey"&gt;
	&lt;arg&gt;arg1&lt;/arg&gt;
	&lt;arg&gt;param.arg2&lt;/arg&gt;
	&lt;arg&gt;request.arg3&lt;/arg&gt;
	&lt;arg&gt;100&lt;/arg&gt;
	&lt;arg&gt;2.35f&lt;/arg&gt;
	&lt;arg&gt;'a'&lt;/arg&gt;
	&lt;arg&gt;"hello\t hello"&lt;/arg&gt;
	&lt;arg&gt;true&lt;/arg&gt;
	&lt;arg&gt;null&lt;/arg&gt;
&lt;/invoke&gt;
</pre>
			</p>
			<p>
<pre class="code-xml">
&lt;invoke name="/multiply.do" method="multiply" resolver="calculator" result-key="multiplyResult"&gt;
	&lt;arg&gt;a&lt;arg/&gt;
	&lt;arg&gt;param.b&lt;arg/&gt;
&lt;/invoke&gt;
</pre>
			<p>
			<p>
<pre class="code-xml">
&lt;invoke name="/doMultiply.do" method="doMultiply" resolver="calculator"&gt;
	&lt;arg&gt;request&lt;/arg&gt;
	&lt;arg&gt;response&lt;arg/&gt;
&lt;/invoke&gt;
</pre>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_action"></a>
				<span class="tag bold">&lt;action&gt;</span>（可选） <br/>
			</p>
			<p>
				<span class="glossary">动作</span>配置。你可以为其配置多个<span class="tag">&lt;invoke&gt;</span>和<span class="tag">&lt;ref&gt;</span>子元素，
				它们将被顺序地执行。
			</p>
			<p>
				它包含如下属性：
				<ul>
					<li>
						<span class="tagAttr">name</span>（<span class="required">必须</span>） <br />
						定义<span class="glossary">动作</span>的名称。
					</li>
				</ul>
			</p>
			<p>
				下面是一个<span class="glossary">动作</span>示例：
<pre class="code-xml">
&lt;action name="/yourAction.do"&gt;
	&lt;invoke method="method0" resolver="yourResolver" result-key="result0" /&gt;
	&lt;invoke method="method1" resolver="yourResolver"&gt;
		&lt;arg&gt;param.a&lt;arg/&gt;
		&lt;arg&gt;request.result0&lt;arg/&gt;
		&lt;arg&gt;true&lt;arg/&gt;
	&lt;/invoke&gt;
	&lt;ref name="gloablInvoke0" /&gt;
	&lt;ref name="gloablInvoke1" /&gt;
	
	&lt;target url="/action_result.jsp" /&gt;
&lt;/action&gt;
</pre>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_ref"></a>
				<span class="tag bold">&lt;ref&gt;</span>（可选） <br/>
			</p>
			<p>
				引用配置。你可以将多个全局<span class="glossary">可执行对象</span>添加到这个动作中。
			</p>
			<p>
				它包含如下属性：
				<ul>
					<li>
						<span class="tagAttr">name</span>（<span class="required">必须</span>） <br />
						要引用的全局<span class="glossary">可执行对象</span>名。
					</li>
				</ul>
			</p>
			<div class="seprator"></div>
			<p>
				<a name="tag_target"></a>
				<span class="tag bold">&lt;target&gt;</span>（可选） <br/>
			</p>
			<p>
				<span class="glossary">动作</span>的目标配置。你可以使用它定义<span class="glossary">动作</span>的转发URL。
			</p>
			<p>
				它包含如下属性：
				<ul>
					<li>
						<span class="tagAttr">url</span>（<span class="required">必须</span>） <br />
						目标URL，如果是应用内的URL，则必须以“<span class="var">/</span>”开头。
					</li>
					<li>
						<span class="tagAttr">type</span>（可选） <br />
						类型，它仅有两个可用的值：<span class="tagValue">forward</span>和<span class="tagValue">redirect</span>。
						如果你没有定义，框架将默认按照<span class="tagValue">forward</span>来处理目标。
					</li>
				</ul>
			</p>
		</div>
	</div>
</div>
<hr size="1">
<div class="pageFooter">
</div>
</body>
</html>